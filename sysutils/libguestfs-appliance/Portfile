# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem              1.0

name                    libguestfs-appliance
version                 1.34.0
categories              sysutils
# Linux is GPL v2; the Makefile is GPL v2+; and Fedora, the libguestfs code,
# and the libguestfs libraries are GPL v2+ or LGPL v2+.
license                 {GPL-2 GPL-2+ LGPL-2+}
platforms               darwin
maintainers             kornel.us:karl openmaintainer

description             Virtual appliance used by libguestfs.

long_description        Libguestfs is tools and a library for accessing and \
                        modifying guest disk images.  Most of the tools \
                        require being able to look inside an image file. \
                        This is accomplished using a custom-built virtual \
                        appliance, consisting of Linux and guestfsd(8).

homepage                http://libguestfs.org
master_sites            http://libguestfs.org/download/binaries/appliance/
distname                appliance-${version}
use_xz                  yes
worksrcdir              appliance

checksums               rmd160 0b8e20beb4b4a18f66877c16fb4109db056d2cdf \
                        sha256 cddc7e5c229895c14639243b401862522f9d88852e19c87ac69ac3349979f334 


# The appliance .tar.xz is just files, so a small Makefile is used to simply
# copy the files into the destroot.
patchfiles              patch-Makefile
use_configure           no
destroot.destdir        DESTDIR=${destroot}${prefix}

livecheck.type          regex
livecheck.url           [lindex ${master_sites} 0]
livecheck.regex         [lindex ${distfiles} 0]-(\[0-9.\]+)${extract.suffix}
